<% content_for :page_title do %>
  メッセージカテゴリ
<% end %>

<main class="relative min-h-screen w-full bg-stone-200 overflow-x-hidden pb-24">
  <div class="flex flex-col items-center px-4 pt-6 w-full max-w-md mx-auto">
    <!-- カテゴリ一覧 -->
    <div class="grid grid-cols-2 gap-4 w-full">
      <% @message_categories.each do |message_category| %>
        <%= link_to message_category_flow_items_path(message_category),
          class: "
            bg-white/90 backdrop-blur rounded-2xl p-6 aspect-square
            flex flex-col items-center justify-center text-center
            shadow-[0_6px_14px_rgba(0,0,0,0.08)]
            hover:shadow-[0_10px_22px_rgba(0,0,0,0.12)]
            transition-shadow duration-200
            active:scale-[0.98]
            focus:outline-none focus:ring-4 focus:ring-stone-300
            group
          " do %>

          <!-- アイコン -->
          <span class="
            material-symbols-outlined
            !text-[60px]
            mb-4
            <%= message_category.icon_color %>
            transition-transform
            group-hover:scale-110
          ">
            <%= message_category.icon %>
          </span>

          <!-- タイトル -->
          <span class="
            text-[22px]
            font-bold
            text-stone-900
            mb-2
            leading-tight
          ">
            <%= message_category.name %>
          </span>

          <!-- ルビ -->
          <span class="
            text-[16px]
            text-stone-700
            leading-tight
          ">
            <%= message_category.kana %>
          </span>

        <% end %>
      <% end %>
    </div>

    <!-- カテゴリ追加 -->
    <div class="w-full mt-6">
      <%= link_to (current_user ? new_message_category_path : new_user_session_path),
        class: "
          w-full h-14 flex items-center justify-center rounded-2xl
          border-2 border-dashed border-stone-400 bg-transparent
          text-stone-600 text-base font-bold
          hover:bg-white/60 active:scale-[0.98] transition
        " do %>

        <span class="material-symbols-outlined mr-2 text-stone-500">
          add_circle_outline
        </span>
        カテゴリを追加
      <% end %>
    </div>
  </div>
</main>
